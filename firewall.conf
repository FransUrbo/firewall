# $Id: firewall.conf,v 1.8 2003-10-31 09:01:57 turbo Exp $

# Where is the iptables, rmmod and modprobe binaries?
IPTABLES=/sbin/iptables
RMMOD="/sbin/rmmod"
MODPROBE="/sbin/modprobe > /dev/null 2>&1 "
#
# External ethernet device
EXTERNAL_ETH=eth0
#
# If defined, see 'ALLOW' below for ports to allow on local network
# - 'size' of network. 24 => a C-Net
EXTERNAL_NET=24
#
# --- FOR MASQUERADING ---
# Internal ethernet device
#INTERNAL_ETH=eth1
#
# If defined, forward internal network
# - 'size' of network. 24 => a C-Net
#INTERNAL_NET=24
#
# If defined, masquerade from internal client to the PPTP VPN Server
# - If the PPTP server is located on the inside, don't specify here, add
#   the IP to PORTS_FW (for portforwarding) instead...
# TODO: Don't work yet...
#PPTP_SERVER=212.247.15.77
#PPTP_CLIENT=192.168.1.10
#
# If defined, do transparent proxy'ing...
# - This is the proxy port on localhost
#TRANS_PROXY=8080

# ----- PORTS TO BLOCK ----
# ':' is a range... So ':19' means '0 to 19'...
PORTS=":19"			# Block: 0-19
PORTS="$PORTS 26:52"		# Open:  ssh, telnet, smtp
PORTS="$PORTS 54:79"		# Open:  domain
PORTS="$PORTS 81:87"		# Open:  http
PORTS="$PORTS 89:109"		# Open:  kerberos, pop3
PORTS="$PORTS 111"		# Close: SunRPC
PORTS="$PORTS 115:142"		# Open:  Auth, SFTP
PORTS="$PORTS 144:388"		# Open:  ldap
PORTS="$PORTS 390:442"		# Open:  imap2
PORTS="$PORTS 444:635"		# Open:  https
PORTS="$PORTS 637:992"		# Open:  ldaps
PORTS="$PORTS 994"		# Open:  imaps
PORTS="$PORTS 996:1023"		# Open:  pop3s
PORTS="$PORTS 1061 1214 1832"	# Block: Crappy filesharing protocols
PORTS="$PORTS 3306"		# Block: mysql
PORTS="$PORTS 6000"		# Block: X11

# ----- PORTS TO ALLOW ON LOCAL NET -----
ALLOW="137:139"		# SMB/Samba
ALLOW="$ALLOW 2988"	# AFbackup system

# ----- PORTS TO FORWARD FROM EXTERNAL TO INTERNAL -----
# Syntax: EXTERNAL_PORT:INTERNAL_IP:INTERNAL_PORT
#PORTS_FW="25:10.100.0.25:25"			# SMTP
#PORTS_FW="$PORTS_FW 22:192.168.1.2:22"		# SSH
#PORTS_FW="$PORTS_FW 80:192.168.1.2:80"		# HTTP
#PORTS_FW="$PORTS_FW 443:192.168.1.2:443"	# HTTPS

# ----- FRIENDLY HOSTS:PORTS -----
# Allow connection to PORT from IP.
# Syntax: IP:PORT
#FRIENDLY="212.247.15.77:2988"			# AFBackup

# $Log: firewall.conf,v $
# Revision 1.8  2003-10-31 09:01:57  turbo
# Possibility to add 'friendly hosts'. That is, hosts that should be exepted
# (on a port basis) from the ordinary block/reject rules..
# Example: From work I'd like to connect to NTop. Naturally, this port should
#          be absolutly hidden for the rest of the world. I don't even want my
#          home network access!!
#
# Revision 1.7  2002/09/07 13:59:03  turbo
# Block the ports 1061, 1214 and 1832. Some crappy
# filesharing protocols that have nothing to do here!
#
# Revision 1.6  2002/06/25 08:58:32  turbo
# * Removed sending STD{OUT,ERR} to /dev/null. The commandline
#   thought it was a module to be removed. I'll look into this
#   some other time.
# * More examples of portforwarding (SSH, HTTP and HTTPS)...
#
# Revision 1.5  2002/03/04 11:25:22  turbo
# The variable TRANS_PROXY is now the proxy port, not a boolean.
#
# Revision 1.4  2002/03/03 21:13:49  turbo
# Send ALL output to /dev/null
#
# Revision 1.3  2002/03/03 19:27:28  turbo
# Add the variable to the variable. The last line overwrote the previous!
#
# Revision 1.2  2002/03/03 18:11:13  turbo
# * Added CVS keywords Id and Log.
# * Retabbing of comments
#
